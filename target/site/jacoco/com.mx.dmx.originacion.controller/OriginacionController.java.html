<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="es"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>OriginacionController.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Originacion</a> &gt; <a href="index.source.html" class="el_package">com.mx.dmx.originacion.controller</a> &gt; <span class="el_source">OriginacionController.java</span></div><h1>OriginacionController.java</h1><pre class="source lang-java linenums">package com.mx.dmx.originacion.controller;


import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.MediaType;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.github.cliftonlabs.json_simple.JsonObject;
import com.mx.dmx.originacion.custom.OriginacionException;
import com.mx.dmx.originacion.model.AltaSolicitudRequest;
import com.mx.dmx.originacion.model.DispersionRequest;
import com.mx.dmx.originacion.model.EstatusSolicitudRequest;
import com.mx.dmx.originacion.service.IOriginacionService;

import io.swagger.annotations.Api;
import io.swagger.annotations.ApiOperation;
import io.swagger.annotations.ApiResponse;
import io.swagger.annotations.ApiResponses;
import jakarta.validation.Valid;


@RestController
@Api(value = &quot;Originacion service&quot;)
@RequestMapping(&quot;/originacion&quot;)
<span class="fc" id="L30">public class OriginacionController {</span>

	@Autowired
	private IOriginacionService originacion;



	/**
	 * Controller que inicia las operaciones necesarias para generar y guardar la solicitud de credito.
	 * @param peticion {@link AltaSolicitudRequest} 
	 * Parametro de entrada que tiene un conjunto de atributos necesarios para el inicio de las operaciones. 
	 * @return {@link ResponseEntity} Objeto Json con informacion de la solicitud guardada y su estatus, ademas de HttpStatus.
	 * @throws OriginacionException
	 */
	@ApiOperation(value = &quot;Ejecuta Calculo Inicial&quot;)
	@ApiResponses(value = { @ApiResponse(code = 200, message = &quot;Retorna la ejecucion&quot;),
			@ApiResponse(code = 404, message = &quot;Recurso no encontrado&quot;),
			@ApiResponse(code = 400, message = &quot;Hubo un error al procesar la peticion&quot;),
			@ApiResponse(code = 409, message = &quot;Hubo un conflicto en el proceso&quot;)
	})			
	@PostMapping(path = &quot;/registrar&quot;, produces = MediaType.APPLICATION_JSON_VALUE)
	public ResponseEntity&lt;JsonObject&gt; registro(@Valid @RequestBody AltaSolicitudRequest peticion){
<span class="fc" id="L52">		return ResponseEntity.status(HttpStatus.OK).body(originacion.inicioOperaciones(peticion));</span>
	}
	
	
	@ApiOperation(value = &quot;Dispersa una solicitud&quot;)
	@ApiResponses(value = { @ApiResponse(code = 200, message = &quot;Retorna la ejecucion&quot;),
			@ApiResponse(code = 404, message = &quot;Recurso no encontrado&quot;),
			@ApiResponse(code = 400, message = &quot;Hubo un error al procesar la peticion&quot;),
			@ApiResponse(code = 409, message = &quot;Hubo un conflicto en el proceso&quot;)
	})			
	@PostMapping(path = &quot;/dispersar&quot;, produces = MediaType.APPLICATION_JSON_VALUE)
	public ResponseEntity&lt;JsonObject&gt; dispersar(@Valid @RequestBody DispersionRequest peticion){
<span class="fc" id="L64">		return ResponseEntity.status(HttpStatus.OK).body(originacion.dispersion(peticion));</span>
	}
	
	
	@ApiOperation(value = &quot;Modifica una solicitud&quot;)
	@ApiResponses(value = { @ApiResponse(code = 200, message = &quot;Retorna la ejecucion&quot;),
			@ApiResponse(code = 404, message = &quot;Recurso no encontrado&quot;),
			@ApiResponse(code = 400, message = &quot;Hubo un error al procesar la peticion&quot;),
			@ApiResponse(code = 409, message = &quot;Hubo un conflicto en el proceso&quot;)
	})
	@PostMapping(path = &quot;/modificar&quot;, produces = MediaType.APPLICATION_JSON_VALUE)
	public ResponseEntity&lt;JsonObject&gt; modificar(@Valid @RequestBody EstatusSolicitudRequest peticion){
<span class="fc" id="L76">	return ResponseEntity.status(HttpStatus.OK).body(originacion.modificarEstatus(peticion));</span>
}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>